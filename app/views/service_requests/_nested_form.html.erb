<% client_name = current_company.name.parameterize.underscore %>

<%= f.nested_fields_for :line_items do |item| %>
  <div class="new_item">
    <div class="form-group">
      <%= item.label :item_type, "Type", class: "col-md-4 control-label" %>
      <div class="col-md-5">
        <%= item.select :item_type, item_type_options(client_name), class: "form-control", id: nil, prompt: true %>
      </div>
    </div>

    <div class="form-group">
      <%= item.label :model_number, "Model", class: "col-md-4 control-label" %>
      <div class="col-md-5">
        <%= item.text_field :model_number, class: "form-control" %>
      </div>
    </div>

    <div class="form-group">
      <%= item.label :serial_number, class: "col-md-4 control-label" %>
      <div class="col-md-5">
        <%= item.text_field :serial_number, class: "form-control" %>
      </div>
    </div>

    <% if @company.needs_more_info? %>

      <div class="hide additional-info">
        <div class="form-group">
          <%= item.label :activation_id, "Activation ID Number", class: "col-md-4 control-label" %>
          <div class="col-md-5">
            <%= item.text_field :activation_id, class: "form-control" %>
          </div>
        </div>

        <div class="form-group">
          <%= item.label :warranty_void, "Warranty Void Number", class: "col-md-4 control-label" %>
          <div class="col-md-5">
            <%= item.text_field :warranty_void, class: "form-control" %>
          </div>
        </div>
      </div>

    <% end %>

    <div class="form-group">
      <%= item.label :additional_information, class: "col-md-4 control-label" %>
      <div class="col-md-5">
        <%= item.text_field :additional_information, class: "form-control" %>
      </div>
    </div>

    <% unless item.object == f.object.line_items.first %>
      <div class="form-group col-md-4 text-right">
        <%= item.remove_nested_fields_link "Remove" %>
      </div>
    <% end %>
  </div>
<% end %>
